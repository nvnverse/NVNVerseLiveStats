<!DOCTYPE html>
<html lang="en">  
<head>  
  <meta charset="UTF-8" />  
  <title>NVN Verse</title>  
  <link href="https://fonts.googleapis.com/css2?family=Roboto&family=Poppins:wght@500;700&display=swap" rel="stylesheet" />  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <!-- Google APIs for OAuth -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <style>
    * { box-sizing: border-box; }  
    body {  
      margin: 0;  
      background-color: #0D0D0D;  
      font-family: 'Roboto', sans-serif;  
      color: white;  
      overflow-x: hidden;  
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    body.light-mode {
      background-color: #f5f5f5;
      color: #333;
    }
    header {  
      display: flex;  
      align-items: center;  
      justify-content: space-between;  
      background-color: #0D0D0D;  
      border-bottom: 2px solid #1C1C1C;  
      padding: 0 20px;  
      height: 65px;  
      position: fixed;  
      width: 100%;  
      top: 0;  
      z-index: 999;
      transition: background-color 0.3s ease, border-color 0.3s ease;
    }
    body.light-mode header {
      background-color: #fff;
      border-bottom: 2px solid #e0e0e0;
    }
    header h1 {  
      font-size: 28px;  
      margin: 0;  
      color: white;  
      font-weight: bold;  
      letter-spacing: 1px;
      transition: color 0.3s ease;
    }
    body.light-mode header h1 {
      color: #333;
    }

    /* Header Buttons Container */
    .header-buttons {
      display: flex;
      gap: 15px;
      align-items: center;
      margin-right: 30px;
    }

    /* Auth Buttons Styles */
    .auth-buttons {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .login-btn {  
      position: relative;  
      display: inline-block;  
      padding: 6px 18px;  
      font-size: 15px;  
      color: white;  
      background: #222;  
      border: none;  
      border-radius: 999px;  
      text-decoration: none;  
      overflow: hidden;  
      transition: transform 0.2s ease, background-color 0.2s ease;  
      box-shadow: 0 2px 8px rgba(34, 34, 34, 0.4);  
      letter-spacing: 0.5px;  
      cursor: pointer;
    }

    .signup-btn {  
      position: relative;  
      display: inline-block;  
      padding: 6px 18px;  
      font-size: 15px;  
      color: white;  
      background: linear-gradient(90deg, #00C851, #00A043);  
      border: none;  
      border-radius: 999px;  
      text-decoration: none;  
      overflow: hidden;  
      transition: transform 0.2s ease;  
      box-shadow: 0 2px 8px rgba(0, 200, 81, 0.4);  
      letter-spacing: 0.5px;  
      cursor: pointer;
    }

    .login-btn::before, .signup-btn::before {  
      content: '';  
      position: absolute;  
      top: 0;  
      left: -75%;  
      width: 50%;  
      height: 100%;  
      background: linear-gradient(120deg, rgba(255,255,255,0.4), rgba(255,255,255,0));  
      transform: skewX(-25deg);  
      animation: shine 2s infinite;  
    }  

    @keyframes shine {  
      0% { left: -75%; }  
      100% { left: 125%; }  
    }  

    .login-btn:hover {  
      transform: scale(1.05);  
      background: #333;
      box-shadow: 0 5px 16px rgba(51, 51, 51, 0.5);  
    }

    .signup-btn:hover {  
      transform: scale(1.05);  
      box-shadow: 0 5px 16px rgba(0, 200, 81, 0.5);  
    }

    .login-btn i, .signup-btn i {
      margin-right: 6px;
    }

    /* Profile Section Styles */
    .profile-section {
      display: flex;
      align-items: center;
    }

    .profile-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 12px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 999px;
      cursor: pointer;
      transition: background-color 0.2s ease, transform 0.2s ease;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .profile-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.05);
    }

    .profile-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: 2px solid #FF0051;
      object-fit: cover;
    }

    .profile-name {
      font-size: 14px;
      font-weight: 500;
      max-width: 100px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    body.light-mode .profile-btn {
      background: rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(0, 0, 0, 0.2);
    }

    body.light-mode .profile-btn:hover {
      background: rgba(0, 0, 0, 0.2);
    }

    .subscribe-btn {  
      position: relative;  
      display: inline-block;  
      padding: 6px 18px;  
      font-size: 15px;  
      color: white;  
      background: linear-gradient(90deg, #FF0051, #FF002E);  
      border: none;  
      border-radius: 999px;  
      text-decoration: none;  
      overflow: hidden;  
      transition: transform 0.2s ease;  
      box-shadow: 0 2px 8px rgba(255, 0, 81, 0.4);  
      letter-spacing: 0.5px;  
    }
    .soundcloud-btn {  
      position: relative;  
      display: inline-block;  
      padding: 6px 18px;  
      font-size: 15px;  
      color: white;  
      background: linear-gradient(90deg, #FF7700, #FF5500);  
      border: none;  
      border-radius: 999px;  
      text-decoration: none;  
      overflow: hidden;  
      transition: transform 0.2s ease;  
      box-shadow: 0 2px 8px rgba(255, 119, 0, 0.4);  
      letter-spacing: 0.5px;  
    }
    .subscribe-btn::before, .soundcloud-btn::before {  
      content: '';  
      position: absolute;  
      top: 0;  
      left: -75%;  
      width: 50%;  
      height: 100%;  
      background: linear-gradient(120deg, rgba(255,255,255,0.4), rgba(255,255,255,0));  
      transform: skewX(-25deg);  
      animation: shine 2s infinite;  
    }  

    .subscribe-btn:hover {  
      transform: scale(1.05);  
      box-shadow: 0 5px 16px rgba(255, 0, 81, 0.5);  
    }
    .soundcloud-btn:hover {  
      transform: scale(1.05);  
      box-shadow: 0 5px 16px rgba(255, 119, 0, 0.5);  
    }

    /* Modal Styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(5px);
      z-index: 9998;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .modal-overlay.active {
      opacity: 1;
    }

    .auth-modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.9);
      width: 90%;
      max-width: 450px;
      max-height: 90vh;
      background: rgba(26, 26, 26, 0.95);
      border: 2px solid #2e2e2e;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
      z-index: 9999;
      opacity: 0;
      transition: all 0.3s ease;
      overflow-y: auto;
      backdrop-filter: blur(10px);
    }

    .auth-modal.active {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
    }

    body.light-mode .auth-modal {
      background: rgba(255, 255, 255, 0.95);
      border: 2px solid #e0e0e0;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 25px 30px 15px;
      border-bottom: 1px solid #2e2e2e;
    }

    body.light-mode .modal-header {
      border-bottom: 1px solid #e0e0e0;
    }

    .modal-header h2 {
      color: #FF0051;
      font-family: 'Poppins', sans-serif;
      font-size: 22px;
      margin: 0;
    }

    .close-modal {
      background: none;
      border: none;
      color: #ccc;
      font-size: 20px;
      cursor: pointer;
      padding: 5px;
      border-radius: 50%;
      transition: color 0.2s ease, background-color 0.2s ease;
    }

    .close-modal:hover {
      color: #FF0051;
      background: rgba(255, 0, 81, 0.1);
    }

    body.light-mode .close-modal {
      color: #666;
    }

    body.light-mode .close-modal:hover {
      color: #FF0051;
    }

    /* Form Styles */
    .auth-form {
      padding: 20px 30px 30px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: #fff;
      font-weight: 500;
      font-size: 14px;
    }

    body.light-mode .form-group label {
      color: #333;
    }

    .form-group input {
      width: 100%;
      padding: 12px 15px;
      border: 2px solid #2e2e2e;
      border-radius: 10px;
      background: #1a1a1a;
      color: white;
      font-size: 14px;
      transition: border-color 0.2s ease, background-color 0.2s ease;
    }

    .form-group input:focus {
      outline: none;
      border-color: #FF0051;
      background: #222;
    }

    body.light-mode .form-group input {
      background: #f8f8f8;
      border: 2px solid #e0e0e0;
      color: #333;
    }

    body.light-mode .form-group input:focus {
      background: #fff;
      border-color: #FF0051;
    }

    .form-group small {
      display: block;
      margin-top: 5px;
      color: #999;
      font-size: 12px;
    }

    .password-input {
      position: relative;
    }

    .password-toggle {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: #ccc;
      cursor: pointer;
      padding: 5px;
      transition: color 0.2s ease;
    }

    .password-toggle:hover {
      color: #FF0051;
    }

    body.light-mode .password-toggle {
      color: #666;
    }

    /* Button Styles */
    .forgot-password-btn {
      background: none;
      border: none;
      color: #FF0051;
      font-size: 13px;
      cursor: pointer;
      margin: 10px 0 20px 0;
      transition: color 0.2s ease;
    }

    .forgot-password-btn:hover {
      color: #FF002E;
      text-decoration: underline;
    }

    .auth-submit-btn {
      width: 100%;
      padding: 12px;
      background: linear-gradient(90deg, #FF0051, #FF002E);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s ease;
      margin-bottom: 20px;
    }

    .auth-submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 16px rgba(255, 0, 81, 0.4);
    }

    .auth-submit-btn i {
      margin-right: 8px;
    }

    .divider {
      text-align: center;
      margin: 20px 0;
      position: relative;
    }

    .divider::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 0;
      right: 0;
      height: 1px;
      background: #2e2e2e;
    }

    body.light-mode .divider::before {
      background: #e0e0e0;
    }

    .divider span {
      background: #1a1a1a;
      padding: 0 15px;
      color: #ccc;
      font-size: 14px;
    }

    body.light-mode .divider span {
      background: #f8f8f8;
      color: #666;
    }

    /* Google OAuth Button Styles */
    #google-login-button, #google-signup-button {
      width: 100%;
      display: flex;
      justify-content: center;
    }

    .google-btn {
      width: 100%;
      padding: 12px;
      background: white;
      color: #333;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .google-btn:hover {
      background: #f8f8f8;
      border-color: #ccc;
      transform: translateY(-1px);
    }

    /* Profile Modal Styles */
    .profile-modal {
      max-width: 500px;
    }

    .profile-content {
      padding: 20px 30px 30px;
    }

    .profile-avatar-section {
      text-align: center;
      margin-bottom: 25px;
    }

    .large-avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      border: 4px solid #FF0051;
      object-fit: cover;
      margin-bottom: 15px;
    }

    .change-avatar-btn {
      background: linear-gradient(90deg, #FF0051, #FF002E);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 8px 16px;
      font-size: 12px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .change-avatar-btn:hover {
      transform: scale(1.05);
    }

    .change-avatar-btn i {
      margin-right: 6px;
    }

    .profile-info {
      margin-bottom: 25px;
    }

    .info-item {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      padding: 12px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
    }

    body.light-mode .info-item {
      background: rgba(0, 0, 0, 0.05);
    }

    .info-item label {
      color: #FF0051;
      font-weight: 600;
      min-width: 80px;
      margin-right: 15px;
    }

    .info-item span {
      color: #ccc;
      flex: 1;
    }

    body.light-mode .info-item span {
      color: #666;
    }

    .profile-actions {
      display: flex;
      gap: 15px;
      justify-content: center;
    }

    .edit-profile-btn {
      background: linear-gradient(90deg, #00C851, #00A043);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 20px;
      font-size: 14px;
      cursor: pointer;
      transition: transform 0.2s ease;
      flex: 1;
    }

    .edit-profile-btn:hover {
      transform: translateY(-2px);
    }

    .logout-btn {
      background: linear-gradient(90deg, #dc3545, #c82333);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 20px;
      font-size: 14px;
      cursor: pointer;
      transition: transform 0.2s ease;
      flex: 1;
    }

    .logout-btn:hover {
      transform: translateY(-2px);
    }

    .edit-profile-btn i, .logout-btn i {
      margin-right: 6px;
    }

    .cancel-btn {
      width: 100%;
      padding: 12px;
      background: #6c757d;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s ease;
      margin-top: 10px;
    }

    .cancel-btn:hover {
      background: #5a6268;
    }

    .cancel-btn i {
      margin-right: 6px;
    }

    /* Toast Styles */
    .toast-container {
      position: fixed;
      top: 80px;
      right: 20px;
      z-index: 10000;
    }

    .toast {
      background: #1a1a1a;
      border: 2px solid #2e2e2e;
      border-radius: 10px;
      padding: 15px 20px;
      margin-bottom: 10px;
      min-width: 300px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      transform: translateX(100%);
      transition: transform 0.3s ease;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .toast.show {
      transform: translateX(0);
    }

    .toast.success {
      border-color: #28a745;
    }

    .toast.error {
      border-color: #dc3545;
    }

    .toast.info {
      border-color: #17a2b8;
    }

    .toast i {
      font-size: 18px;
    }

    .toast.success i {
      color: #28a745;
    }

    .toast.error i {
      color: #dc3545;
    }

    .toast.info i {
      color: #17a2b8;
    }

    .toast-message {
      color: white;
      font-size: 14px;
      flex: 1;
    }

    body.light-mode .toast {
      background: white;
      border: 2px solid #e0e0e0;
    }

    body.light-mode .toast-message {
      color: #333;
    }

    .refresh-loader {
      position: fixed;
      top: 65px;
      left: 50%;
      transform: translateX(-50%);
      width: 40px;
      height: 40px;
      border: 3px solid rgba(255, 0, 81, 0.3);
      border-top: 3px solid #FF0051;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      z-index: 998;
      display: none;
    }
    @keyframes spin {
      0% { transform: translateX(-50%) rotate(0deg); }
      100% { transform: translateX(-50%) rotate(360deg); }
    }
    .main-content, .page-section {  
      padding: 100px 20px 120px;  
      display: none;  
      opacity: 0;  
      transition: opacity 0.5s ease;  
    }  
    .main-content.active, .page-section.active {  
      display: block;  
      opacity: 1;  
    }  
    .banner {  
      width: 100%;  
      height: 180px;  
      overflow: hidden;  
      position: relative;  
    }  
    .banner img {  
      width: 100%;  
      height: 100%;  
      object-fit: cover;  
    }  
    .profile-pic-wrapper {  
      display: flex;  
      justify-content: center;  
      margin-top: -60px;  
      position: relative;  
      z-index: 10;  
    }  
    #profile-pic {  
      width: 120px;  
      height: 120px;  
      border-radius: 50%;  
      border: 6px solid #0D0D0D;  
      background-color: #0D0D0D;
      transition: border-color 0.3s ease, background-color 0.3s ease;
    }
    body.light-mode #profile-pic {
      border: 6px solid #f5f5f5;
      background-color: #f5f5f5;
    }
    .section-title {  
      margin-top: 30px;  
      font-size: 15px;  
      font-family: 'Poppins', sans-serif;  
      font-weight: 700;  
      color: white;  
      letter-spacing: 1px;  
      text-align: center;
      transition: color 0.3s ease;
    }
    body.light-mode .section-title {
      color: #333;
    }
    .stats-container {  
      display: grid;  
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));  
      gap: 20px;  
      margin-top: 30px;    
    }  
    .stat-box {  
      background-color: #1a1a1a;  
      border: 2px solid #2e2e2e;  
      border-radius: 15px;  
      padding: 20px;  
      text-align: center;  
      transition: transform 0.2s ease, background-color 0.3s ease, border-color 0.3s ease;  
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);  
    }
    body.light-mode .stat-box {
      background-color: #fff;
      border: 2px solid #e0e0e0;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .stat-box:hover {  
      transform: translateY(-4px);  
    }  
    .stat-box i {  
      font-size: 25px;  
      margin-bottom: 10px;  
      color: #FF0051;  
    }  
    .stat-number {  
      font-size: 12px;  
      font-weight: bold;  
      color: white;
      transition: color 0.3s ease;
    }
    body.light-mode .stat-number {
      color: #333;
    }
    .stat-label {  
      font-size: 7px;  
      color: #ccc;  
      margin-top: 8px;
      transition: color 0.3s ease;
    }
    body.light-mode .stat-label {
      color: #666;
    }
    .channel-info {
      background-color: #1a1a1a;
      border: 2px solid #2e2e2e;
      border-radius: 15px;
      padding: 15px;
      margin: 20px 0;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      transition: background-color 0.3s ease, border-color 0.3s ease;
    }
    body.light-mode .channel-info {
      background-color: #fff;
      border: 2px solid #e0e0e0;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .channel-info h3 {
      color: #FF0051;
      margin-bottom: 8px;
      font-family: 'Poppins', sans-serif;
      font-size: 22px;
    }
    .channel-info p {
      color: #ccc;
      line-height: 1.4;
      margin: 6px 0;
      font-size: 13px;
      transition: color 0.3s ease;
    }
    body.light-mode .channel-info p {
      color: #666;
    }
    .show-more-btn, .show-less-btn {
      background: linear-gradient(90deg, #FF0051, #FF002E);
      color: white;
      padding: 6px 16px;
      border-radius: 20px;
      cursor: pointer;
      display: inline-block;
      margin-top: 8px;
      font-size: 12px;
      transition: transform 0.2s ease;
    }
    .show-more-btn:hover, .show-less-btn:hover {
      transform: scale(1.05);
    }
    .videos-container {
      margin-top: 30px;
    }
    .videos-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    .video-card {
      background-color: #1a1a1a;
      border: 2px solid #2e2e2e;
      border-radius: 15px;
      overflow: hidden;
      transition: transform 0.2s ease, background-color 0.3s ease, border-color 0.3s ease;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    }
    body.light-mode .video-card {
      background-color: #fff;
      border: 2px solid #e0e0e0;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .video-card:hover {
      transform: translateY(-4px);
    }
    .video-thumbnail {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }
    .video-info {
      padding: 15px;
    }
    .video-title {
      color: #fff;
      font-weight: bold;
      margin-bottom: 8px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      transition: color 0.3s ease;
    }
    body.light-mode .video-title {
      color: #333;
    }
    .video-stats {
      color: #ccc;
      font-size: 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: color 0.3s ease;
    }
    body.light-mode .video-stats {
      color: #666;
    }
    .videos-container h3 {
      color: #FF0051;
      font-family: 'Poppins', sans-serif;
      margin-bottom: 20px;
    }
    .podcasts-container {
      margin-top: 30px;
    }
    .podcasts-container h3 {
      color: #FF0051;
      font-family: 'Poppins', sans-serif;
      margin-bottom: 20px;
    }
    .podcasts-scroll {
      display: flex;
      overflow-x: auto;
      gap: 20px;
      padding: 10px 0;
      scroll-behavior: smooth;
    }
    .podcasts-scroll::-webkit-scrollbar {
      height: 6px;
    }
    .podcasts-scroll::-webkit-scrollbar-track {
      background: #1a1a1a;
      border-radius: 10px;
    }
    .podcasts-scroll::-webkit-scrollbar-thumb {
      background: #FF0051;
      border-radius: 10px;
    }
    body.light-mode .podcasts-scroll::-webkit-scrollbar-track {
      background: #e0e0e0;
    }
    .podcast-card {
      min-width: 280px;
      background-color: #1a1a1a;
      border: 2px solid #2e2e2e;
      border-radius: 15px;
      overflow: hidden;
      transition: transform 0.2s ease, background-color 0.3s ease, border-color 0.3s ease;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      cursor: pointer;
    }
    body.light-mode .podcast-card {
      background-color: #fff;
      border: 2px solid #e0e0e0;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .podcast-card:hover {
      transform: translateY(-4px);
    }
    .podcast-thumbnail {
      width: 100%;
      height: 140px;
      object-fit: cover;
    }
    .podcast-info {
      padding: 12px;
    }
    .podcast-title {
      color: #fff;
      font-weight: bold;
      margin-bottom: 8px;
      font-size: 14px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      transition: color 0.3s ease;
    }
    body.light-mode .podcast-title {
      color: #333;
    }
    .podcast-stats {
      color: #ccc;
      font-size: 11px;
      line-height: 1.4;
      transition: color 0.3s ease;
    }
    body.light-mode .podcast-stats {
      color: #666;
    }
    .podcast-stats div {
      margin: 2px 0;
    }
    .page-section h2 {  
      font-size: 26px;  
      font-family: 'Poppins', sans-serif;  
      color: #FF0051;  
      text-align: left;  
      margin-bottom: 10px;  
    }  
    .page-section p {  
      max-width: 850px;  
      margin: 18px auto;  
      color: #ccc;  
      line-height: 1.7;  
      text-align: left;  
      font-size: 16px;
      transition: color 0.3s ease;
    }
    body.light-mode .page-section p {
      color: #666;
    }
    .centered-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      margin: 30px 0;
    }
    .email-button {
      background: linear-gradient(90deg, #FF0051, #FF002E);
      color: white;
      padding: 12px 24px;
      border-radius: 25px;
      font-size: 16px;
      border: none;
      cursor: pointer;
      margin: 20px 0;
      transition: transform 0.2s ease;
      text-decoration: none;
      display: inline-block;
    }
    .email-button:hover {
      transform: scale(1.05);
    }
    .email-button i {
      margin-right: 8px;
    }
    .user-feedback {
      background-color: #1a1a1a;
      border: 2px solid #2e2e2e;
      border-radius: 15px;
      padding: 20px;
      margin: 30px auto;
      display: block;
      text-align: center;
      max-width: 500px;
      transition: background-color 0.3s ease, border-color 0.3s ease;
    }
    body.light-mode .user-feedback {
      background-color: #fff;
      border: 2px solid #e0e0e0;
    }
    .user-feedback h3 {
      color: #FF0051;
      margin-bottom: 15px;
      font-family: 'Poppins', sans-serif;
    }
    .user-feedback p {
      color: #ccc;
      margin-bottom: 20px;
      transition: color 0.3s ease;
      text-align: center;
    }
    body.light-mode .user-feedback p {
      color: #666;
    }
    .emoji-rating {
      display: flex;
      justify-content: center;
      gap: 15px;
    }
    .emoji-btn {
      font-size: 30px;
      background: none;
      border: none;
      cursor: pointer;
      padding: 10px;
      border-radius: 50%;
      transition: transform 0.2s ease, background-color 0.2s ease;
    }
    .emoji-btn:hover {
      transform: scale(1.2);
      background-color: rgba(255, 0, 81, 0.1);
    }
    .feature-box {
      background-color: #1a1a1a;
      border: 2px solid #2e2e2e;
      border-radius: 15px;
      padding: 20px;
      margin: 25px auto;
      max-width: 600px;
      transition: background-color 0.3s ease, border-color 0.3s ease;
    }
    body.light-mode .feature-box {
      background-color: #fff;
      border: 2px solid #e0e0e0;
    }
    .feature-box h3 {
      color: #FF0051;
      margin-bottom: 15px;
      font-family: 'Poppins', sans-serif;
      text-align: center;
    }
    .feature-box p {
      color: #ccc;
      text-align: center;
      margin: 10px 0;
      font-size: 14px;
      transition: color 0.3s ease;
    }
    body.light-mode .feature-box p {
      color: #666;
    }
    .action-button {
      background: linear-gradient(90deg, #FF0051, #FF002E);
      color: white;
      padding: 10px 20px;
      border-radius: 20px;
      font-size: 14px;
      border: none;
      cursor: pointer;
      margin: 15px auto;
      transition: transform 0.2s ease;
      display: block;
      text-decoration: none;
    }
    .action-button:hover {
      transform: scale(1.05);
    }
    .action-button i {
      margin-right: 6px;
    }
    .back-btn {  
      position: fixed;  
      top: 70px;  
      left: 20px;  
      background: linear-gradient(90deg, #FF0051, #FF002E);  
      color: white;  
      padding: 8px 16px;  
      border-radius: 30px;  
      font-size: 14px;  
      border: none;  
      cursor: pointer;  
      z-index: 999;  
      display: none;  
    }  
    .back-btn i {  
      margin-right: 6px;  
    }  
    .page-section.active ~ .back-btn {  
      display: inline-block;  
    }  
    footer {  
      background-color: #101010;  
      border-top: 2px solid #1C1C1C;  
      padding: 10px 20px;  
      display: flex;  
      justify-content: space-between;  
      align-items: center;  
      position: fixed;  
      bottom: 0;  
      width: 100%;  
      font-size: 14px;  
      z-index: 1000;  
      flex-wrap: wrap;
      transition: background-color 0.3s ease, border-color 0.3s ease;
    }
    body.light-mode footer {
      background-color: #fff;
      border-top: 2px solid #e0e0e0;
    }
    .footer-left {  
      color: #ccc;
      transition: color 0.3s ease;
    }
    body.light-mode .footer-left {
      color: #666;
    }
    .footer-right {  
      display: flex;  
      gap: 20px;  
      margin-right: 30px;  
    }  
    .footer-link {  
      color: #ccc;  
      text-decoration: none;  
      cursor: pointer;  
      transition: color 0.3s;  
    }
    body.light-mode .footer-link {
      color: #666;
    }
    .footer-link:hover {  
      color: #fff;  
    }
    body.light-mode .footer-link:hover {
      color: #333;
    }
    .footer-link i {  
      margin-right: 5px;  
    }
    .theme-toggle {
      background: none;
      border: none;
      color: #ccc;
      font-size: 18px;
      cursor: pointer;
      margin-left: 15px;
      transition: color 0.3s ease;
    }
    .theme-toggle:hover {
      color: #fff;
    }
    body.light-mode .theme-toggle {
      color: #666;
    }
    body.light-mode .theme-toggle:hover {
      color: #333;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .header-buttons {
        gap: 10px;
        margin-right: 10px;
      }
      
      .auth-buttons {
        gap: 5px;
      }
      
      .login-btn, .signup-btn {
        padding: 4px 12px;
        font-size: 13px;
      }
      
      .subscribe-btn, .soundcloud-btn {
        padding: 4px 12px;
        font-size: 13px;
      }
      
      .profile-name {
        display: none;
      }
      
      .profile-avatar {
        width: 28px;
        height: 28px;
      }
      
      .auth-modal {
        width: 95%;
        max-width: 380px;
      }
      
      .modal-header {
        padding: 20px 20px 10px;
      }
      
      .auth-form {
        padding: 15px 20px 20px;
      }
      
      .toast {
        min-width: 280px;
        margin-right: 10px;
      }
      
      .footer-right {
        margin-right: 10px;
        gap: 15px;
      }
      
      .footer-link {
        font-size: 12px;
      }
      
      .stats-container {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
      }
      
      .videos-grid {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
      }
    }

    @media (max-width: 480px) {
      header h1 {
        font-size: 22px;
      }
      
      .header-buttons {
        gap: 5px;
      }
      
      .login-btn, .signup-btn {
        padding: 3px 8px;
        font-size: 11px;
      }
      
      .subscribe-btn, .soundcloud-btn {
        padding: 3px 8px;
        font-size: 11px;
      }
      
      .auth-modal {
        width: 98%;
        max-height: 85vh;
      }
      
      .stats-container {
        grid-template-columns: 1fr 1fr;
        gap: 10px;
      }
      
      .videos-grid {
        grid-template-columns: 1fr;
        gap: 10px;
      }
      
      .podcasts-scroll {
        gap: 15px;
      }
      
      .podcast-card {
        min-width: 250px;
      }
    }
  </style>  
</head>
<body>  
<div class="refresh-loader" id="refresh-loader"></div>

<header>  
  <h1>NVN Verse</h1>  
  <div class="header-buttons">
    <!-- Auth Buttons (will be hidden after login) -->
    <div class="auth-buttons" id="auth-buttons">
      <button class="login-btn" id="login-btn">
        <i class="fas fa-user"></i> Login
      </button>
      <button class="signup-btn" id="signup-btn">
        <i class="fas fa-user-plus"></i> Sign Up
      </button>
    </div>
    
    <!-- Profile Button (hidden initially) -->
    <div class="profile-section" id="profile-section" style="display: none;">
      <div class="profile-btn" id="profile-btn">
        <img src="" alt="Profile" class="profile-avatar" id="profile-avatar">
        <span class="profile-name" id="profile-name"></span>
      </div>
    </div>
    
    <a href="https://on.soundcloud.com/TuoLoVSIm435u3sBPM" target="_blank" class="soundcloud-btn">FOLLOW</a>
    <a href="https://youtube.com/@nvnmusichd" target="_blank" class="subscribe-btn">SUBSCRIBE</a>  
  </div>
</header>

<!-- Modal Overlay -->
<div class="modal-overlay" id="modal-overlay" style="display: none;"></div>

<!-- Login Modal -->
<div class="auth-modal" id="login-modal" style="display: none;">
  <div class="modal-header">
    <h2><i class="fas fa-user"></i> Login to NVN Verse</h2>
    <button class="close-modal" id="close-login-modal">
      <i class="fas fa-times"></i>
    </button>
  </div>
  
  <form class="auth-form" id="login-form">
    <div class="form-group">
      <label for="login-email">Email Address</label>
      <input type="email" id="login-email" required>
    </div>
    
    <div class="form-group">
      <label for="login-password">Password</label>
      <div class="password-input">
        <input type="password" id="login-password" required>
        <button type="button" class="password-toggle" id="login-password-toggle">
          <i class="fas fa-eye"></i>
        </button>
      </div>
    </div>
    
    <button type="button" class="forgot-password-btn" id="forgot-password-btn">
      <i class="fas fa-key"></i> Forgot Password?
    </button>
    
    <button type="submit" class="auth-submit-btn">
      <i class="fas fa-sign-in-alt"></i> Login
    </button>
    
    <div class="divider">
      <span>or</span>
    </div>
    
    <div id="google-login-button"></div>
  </form>
</div>

<!-- Signup Modal -->
<div class="auth-modal" id="signup-modal" style="display: none;">
  <div class="modal-header">
    <h2><i class="fas fa-user-plus"></i> Join NVN Verse</h2>
    <button class="close-modal" id="close-signup-modal">
      <i class="fas fa-times"></i>
    </button>
  </div>
  
  <form class="auth-form" id="signup-form">
    <div class="form-group">
      <label for="signup-name">Full Name</label>
      <input type="text" id="signup-name" required>
    </div>
    
    <div class="form-group">
      <label for="signup-email">Email Address</label>
      <input type="email" id="signup-email" required>
    </div>
    
    <div class="form-group">
      <label for="signup-password">Password</label>
      <div class="password-input">
        <input type="password" id="signup-password" required minlength="6">
        <button type="button" class="password-toggle" id="signup-password-toggle">
          <i class="fas fa-eye"></i>
        </button>
      </div>
    </div>
    
    <div class="form-group">
      <label for="signup-confirm-password">Confirm Password</label>
      <div class="password-input">
        <input type="password" id="signup-confirm-password" required minlength="6">
        <button type="button" class="password-toggle" id="signup-confirm-password-toggle">
          <i class="fas fa-eye"></i>
        </button>
      </div>
    </div>
    
    <button type="submit" class="auth-submit-btn">
      <i class="fas fa-user-plus"></i> Create Account
    </button>
    
    <div class="divider">
      <span>or</span>
    </div>
    
    <div id="google-signup-button"></div>
  </form>
</div>

<!-- Profile Modal -->
<div class="auth-modal profile-modal" id="profile-modal" style="display: none;">
  <div class="modal-header">
    <h2><i class="fas fa-user-circle"></i> My Profile</h2>
    <button class="close-modal" id="close-profile-modal">
      <i class="fas fa-times"></i>
    </button>
  </div>
  
  <div class="profile-content">
    <div class="profile-avatar-section">
      <img src="" alt="Profile Avatar" class="large-avatar" id="large-profile-avatar">
      <button class="change-avatar-btn" id="change-avatar-btn">
        <i class="fas fa-camera"></i> Change Picture
      </button>
      <input type="file" id="avatar-upload" accept="image/*" style="display: none;">
    </div>
    
    <div class="profile-info">
      <div class="info-item">
        <label><i class="fas fa-user"></i> Name:</label>
        <span id="profile-display-name">Loading...</span>
      </div>
      
      <div class="info-item">
        <label><i class="fas fa-envelope"></i> Email:</label>
        <span id="profile-display-email">Loading...</span>
      </div>
      
      <div class="info-item">
        <label><i class="fas fa-calendar"></i> Joined:</label>
        <span id="profile-join-date">Loading...</span>
      </div>
    </div>
    
    <div class="profile-actions">
      <button class="edit-profile-btn" id="edit-profile-btn">
        <i class="fas fa-edit"></i> Edit Profile
      </button>
      
      <button class="logout-btn" id="logout-btn">
        <i class="fas fa-sign-out-alt"></i> Logout
      </button>
    </div>
  </div>
</div>

<!-- Edit Profile Modal -->
<div class="auth-modal" id="edit-profile-modal" style="display: none;">
  <div class="modal-header">
    <h2><i class="fas fa-edit"></i> Edit Profile</h2>
    <button class="close-modal" id="close-edit-profile-modal">
      <i class="fas fa-times"></i>
    </button>
  </div>
  
  <form class="auth-form" id="edit-profile-form">
    <div class="form-group">
      <label for="edit-name">Full Name</label>
      <input type="text" id="edit-name" required>
    </div>
    
    <div class="form-group">
      <label for="edit-email">Email Address</label>
      <input type="email" id="edit-email" required disabled>
      <small>Email cannot be changed</small>
    </div>
    
    <button type="submit" class="auth-submit-btn">
      <i class="fas fa-save"></i> Save Changes
    </button>
    
    <button type="button" class="cancel-btn" id="cancel-edit-btn">
      <i class="fas fa-times"></i> Cancel
    </button>
  </form>
</div>

<!-- Success/Error Messages -->
<div class="toast-container" id="toast-container"></div>

<!-- Original Website Content -->
<div class="main-content active" id="home">  
  <div class="banner">  
    <img id="channel-banner" src="" alt="Channel Banner">  
  </div>  
  <div class="profile-pic-wrapper">  
    <img id="profile-pic" src="" alt="Channel Profile Picture">  
  </div>  
  <div class="section-title">Live Stats - NVN Music HD</div>  
  
  <div class="stats-container">  
    <div class="stat-box"><i class="fas fa-users"></i><div class="stat-number" id="subs">--</div><div class="stat-label">Subscribers</div></div>  
    <div class="stat-box"><i class="fas fa-eye"></i><div class="stat-number" id="views">--</div><div class="stat-label">Total Views</div></div>  
    <div class="stat-box"><i class="fas fa-thumbs-up"></i><div class="stat-number" id="likes">--</div><div class="stat-label">Total Likes</div></div>  
    <div class="stat-box"><i class="fas fa-video"></i><div class="stat-number" id="videos">--</div><div class="stat-label">Total Videos</div></div>  
    <div class="stat-box"><i class="fas fa-chart-line"></i><div class="stat-number" id="avg-views">--</div><div class="stat-label">Average Views</div></div>  
    <div class="stat-box"><i class="fas fa-calendar-alt"></i><div class="stat-number" id="created-date">--</div><div class="stat-label">Channel Created</div></div>  
  </div>

  <div class="channel-info">
    <h3><i class="fas fa-info-circle"></i> Channel Information</h3>
    <div class="channel-preview">
      <p><strong>Last Upload:</strong> <span id="last-upload">Loading...</span></p>
      <p><strong>Language:</strong> <span id="channel-language">English</span></p>
      <div class="show-more-btn" id="show-more-btn" onclick="toggleChannelInfo()">
        <span>More</span>
      </div>
    </div>
    <div class="channel-full" id="channel-full" style="display: none;">
      <p><strong>Last Upload:</strong> <span id="last-upload-full">Loading...</span></p>
      <p><strong>Language:</strong> <span id="channel-language-full">English</span></p>
      <p><strong>Category:</strong> <span id="channel-category">Music</span></p>
      <p><strong>Country:</strong> <span id="channel-country-full">Loading...</span></p>
      <p><strong>Description:</strong> <span id="channel-description-full">Loading...</span></p>
      <div class="show-less-btn" onclick="toggleChannelInfo()">
        <span>Less</span>
      </div>
    </div>
  </div>

  <div class="videos-container">
    <h3><i class="fas fa-play"></i> Recent Videos</h3>
    <div class="videos-grid" id="videos-grid">
      <!-- Recent videos will be loaded here -->
    </div>
  </div>

  <div class="videos-container">
    <h3><i class="fas fa-fire"></i> Popular Videos</h3>
    <div class="videos-grid" id="popular-videos-grid">
      <!-- Popular videos will be loaded here -->
    </div>
  </div>

  <div class="podcasts-container">
    <h3><i class="fas fa-podcast"></i> NVN Podcasts</h3>
    <div class="podcasts-scroll" id="podcasts-scroll">
      <!-- Real podcast data will be loaded here -->
    </div>
  </div>
</div>  

<div class="page-section" id="privacy">  
  <h2>Privacy Policy</h2>  
  <p>At NVN Verse, we are committed to protecting your privacy and ensuring the security of your personal information. This comprehensive privacy policy outlines how we collect, use, store, and protect any information when you visit our website and use our services.</p>
  
  <div class="feature-box">
    <h3><i class="fas fa-shield-alt"></i> Data Protection</h3>
    <p>We implement industry-standard security measures to protect your data from unauthorized access, alteration, disclosure, or destruction.</p>
  </div>

  <p>NVN Verse operates as a YouTube channel analytics platform that exclusively uses publicly available data from YouTube's official API. We do not track users, collect personal information, or store any data about your browsing habits. Our platform is designed with privacy-first principles to ensure your online experience remains completely anonymous.</p>
  
  <p>We do not use cookies, tracking pixels, or any third-party analytics tools that might compromise your privacy. The only data displayed on our website comes directly from YouTube's servers and is publicly accessible information about the NVN Music HD channel. This includes subscriber counts, view counts, video titles, thumbnails, and upload dates.</p>
  
  <div class="feature-box">
    <h3><i class="fas fa-eye-slash"></i> No Tracking Policy</h3>
    <p>We guarantee that no personal data is collected, stored, or shared with third parties. Your browsing session remains completely private.</p>
    <a href="#" class="action-button"><i class="fas fa-info-circle"></i> Learn More</a>
  </div>

  <p>If you choose to contact us via email, we will only use your email address to respond to your inquiry. We will never share your email address with third parties, use it for marketing purposes, or add you to any mailing lists without your explicit consent. All email communications are handled securely and are deleted after resolving your inquiry unless you specifically request ongoing support.</p>
  
  <p>Our website is hosted on secure servers with encrypted connections (HTTPS) to ensure that any data transmitted between your device and our servers remains protected. We regularly update our security protocols and conduct security audits to maintain the highest standards of data protection.</p>
  
  <p>We comply with international privacy regulations including GDPR, CCPA, and other applicable data protection laws. Since we don't collect personal data, most privacy regulations don't apply to our platform, but we maintain these standards as a commitment to user privacy.</p>
  
  <div class="feature-box">
    <h3><i class="fas fa-question-circle"></i> Questions?</h3>
    <p>If you have any questions about our privacy practices or need clarification on any aspect of this policy, please don't hesitate to contact us.</p>
    <a href="mailto:suport.nvn@gmail.com" class="action-button"><i class="fas fa-envelope"></i> Contact Us</a>
  </div>

  <p>This privacy policy may be updated from time to time to reflect changes in our practices or legal requirements. We encourage you to review this page periodically to stay informed about how we protect your privacy. Any significant changes will be prominently displayed on our website.</p>
</div>  

<div class="page-section" id="support">  
  <h2>Support</h2>  
  <p>Welcome to NVN Verse Support Center. We are dedicated to providing you with the best possible experience while using our YouTube analytics platform. Our support team is committed to helping you resolve any issues, answer questions, and improve your overall experience with our service.</p>
  
  <div class="centered-content">
    <a href="mailto:suport.nvn@gmail.com" class="email-button">
      <i class="fas fa-envelope"></i> Email Us
    </a>
  </div>
  
  <p>If you're experiencing any technical difficulties such as statistics not loading properly, display issues, slow loading times, or any other performance-related problems, our technical support team is here to assist you. We understand how important it is to have access to real-time, accurate YouTube analytics, and we work diligently to ensure our platform operates smoothly at all times.</p>
  
  <div class="feature-box">
    <h3><i class="fas fa-tools"></i> Technical Support</h3>
    <p>Experiencing technical issues? Our team can help with loading problems, display errors, and performance optimization.</p>
    <a href="mailto:suport.nvn@gmail.com?subject=Technical%20Support" class="action-button"><i class="fas fa-wrench"></i> Get Technical Help</a>
  </div>

  <p>For feature requests and suggestions, we highly value your input as it helps us improve NVN Verse continuously. Whether you have ideas for new analytics features, design improvements, or additional functionality that would enhance your experience, please don't hesitate to share your thoughts with us. Many of our current features have been implemented based on user feedback.</p>
  
  <p>Our support email <strong>suport.nvn@gmail.com</strong> is monitored regularly, and we typically respond to all inquiries within 24-48 hours during business days. For urgent technical issues that prevent you from accessing the platform, we aim to respond within 12 hours. Please include as much detail as possible about your issue, including your device type, browser, and any error messages you may have encountered.</p>
  
  <div class="feature-box">
    <h3><i class="fas fa-lightbulb"></i> Feature Requests</h3>
    <p>Have an idea to make NVN Verse better? We love hearing from our users and implementing valuable suggestions.</p>
    <a href="mailto:suport.nvn@gmail.com?subject=Feature%20Request" class="action-button"><i class="fas fa-plus"></i> Submit Idea</a>
  </div>

  <p>Common support topics include data synchronization delays (YouTube API updates can sometimes take time), browser compatibility issues, mobile responsiveness concerns, and questions about the accuracy of displayed statistics. We also provide guidance on interpreting the analytics data and understanding YouTube's metrics.</p>
  
  <p>We truly appreciate your support and engagement with NVN Verse. Our platform is built specifically to serve the growing NVN Music HD community with clean, real-time statistics and an intuitive user experience. Your feedback helps us maintain high standards and continuously improve our service quality.</p>

  <div class="user-feedback">
    <h3>How was your experience with our website?</h3>
    <p>Please rate your experience by clicking on one of the emojis below:</p>
    <div class="emoji-rating">
      <button class="emoji-btn" onclick="sendFeedback('üòû', 'Very Bad')" title="Very Bad">üòû</button>
      <button class="emoji-btn" onclick="sendFeedback('üòê', 'Bad')" title="Bad">üòê</button>
      <button class="emoji-btn" onclick="sendFeedback('üòä', 'Good')" title="Good">üòä</button>
      <button class="emoji-btn" onclick="sendFeedback('üòç', 'Very Good')" title="Very Good">üòç</button>
      <button class="emoji-btn" onclick="sendFeedback('ü§©', 'Excellent')" title="Excellent">ü§©</button>
    </div>
  </div>

  <div class="feature-box">
    <h3><i class="fas fa-clock"></i> Response Times</h3>
    <p>General inquiries: 24-48 hours<br>Technical issues: Within 12 hours<br>Feature requests: 48-72 hours</p>
  </div>
</div>  

<div class="page-section" id="terms">  
  <h2>Terms & Conditions</h2>  
  <p>Welcome to NVN Verse. These comprehensive terms and conditions govern your use of our website and services. By accessing and using NVN Verse, you acknowledge that you have read, understood, and agree to be bound by these terms and conditions in their entirety.</p>
  
  <div class="feature-box">
    <h3><i class="fas fa-gavel"></i> Legal Agreement</h3>
    <p>These terms constitute a legally binding agreement between you and NVN Verse. Please read carefully before using our services.</p>
    <a href="#" class="action-button"><i class="fas fa-file-contract"></i> View Full Agreement</a>
  </div>

  <p>NVN Verse is intended for personal, educational, and non-commercial use only. You may not use our platform for any commercial purposes, including but not limited to reselling data, creating derivative works for profit, or using our analytics for competitive intelligence against other YouTube channels. Any commercial use requires explicit written permission from NVN Verse.</p>
  
  <p>All intellectual property rights, including copyrights, trademarks, design rights, and any other proprietary rights related to the NVN Verse platform, including text, graphics, logos, icons, images, audio clips, digital downloads, data compilations, and software, are owned by NVN Verse or our licensors. Unauthorized reproduction, distribution, modification, or any other use of our content is strictly prohibited and may result in legal action.</p>
  
  <div class="feature-box">
    <h3><i class="fas fa-shield-alt"></i> Content Protection</h3>
    <p>All content on NVN Verse is protected by copyright and intellectual property laws. Unauthorized use is prohibited.</p>
    <a href="mailto:suport.nvn@gmail.com?subject=Copyright%20Inquiry" class="action-button"><i class="fas fa-copyright"></i> Report Violation</a>
  </div>

  <p>While we strive to provide accurate and up-to-date information, NVN Verse cannot guarantee the absolute accuracy of YouTube data displayed on our platform. The information is fetched from YouTube's public API, and any discrepancies, delays, or inaccuracies in the data are beyond our control. We are not liable for any decisions made based on the analytics data provided through our platform.</p>
  
  <p>Users are expected to conduct themselves respectfully and lawfully while using our platform. Any attempt to manipulate, hack, or disrupt our services, including but not limited to unauthorized access attempts, denial of service attacks, or any other malicious activities, will result in immediate termination of access and may lead to legal prosecution.</p>
  
  <div class="feature-box">
    <h3><i class="fas fa-exclamation-triangle"></i> Prohibited Activities</h3>
    <p>Hacking, spamming, or any malicious use of our platform is strictly forbidden and will result in legal action.</p>
    <a href="mailto:suport.nvn@gmail.com?subject=Report%20Abuse" class="action-button"><i class="fas fa-flag"></i> Report Abuse</a>
  </div>

  <p>We reserve the right to modify, suspend, or discontinue any aspect of NVN Verse at any time without prior notice. This includes adding new features, removing existing functionality, changing the user interface, or updating our data sources. We also reserve the right to refuse service to anyone for any reason at our sole discretion.</p>
  
  <p>These terms and conditions are governed by and construed in accordance with applicable international laws. Any disputes arising from the use of NVN Verse will be resolved through binding arbitration in accordance with established arbitration rules. By using our service, you waive any right to participate in class action lawsuits against NVN Verse.</p>
  
  <div class="feature-box">
    <h3><i class="fas fa-sync-alt"></i> Terms Updates</h3>
    <p>We may update these terms periodically. Continued use of our platform constitutes acceptance of any changes.</p>
    <a href="#" class="action-button"><i class="fas fa-bell"></i> Get Notified</a>
  </div>

  <p>We reserve the right to update these terms and conditions without prior notice to reflect changes in our services, legal requirements, or business practices. It is your responsibility to review these terms periodically. Continued use of NVN Verse after any modifications constitutes your acceptance of the updated terms and conditions.</p>
  
  <p>If any provision of these terms and conditions is found to be invalid or unenforceable, the remaining provisions will continue to be valid and enforceable. Our failure to enforce any right or provision of these terms will not be considered a waiver of those rights.</p>
</div>  

<button class="back-btn" onclick="showSection('home')"><i class="fas fa-arrow-left"></i> Back</button>

<footer>  
  <div class="footer-left">¬© 2025 NVN Verse</div>  
  <div class="footer-right">  
    <span class="footer-link" onclick="showSection('privacy')"><i class="fas fa-shield-alt"></i> Privacy Policy</span>  
    <span class="footer-link" onclick="showSection('support')"><i class="fas fa-envelope"></i> Support</span>  
    <span class="footer-link" onclick="showSection('terms')"><i class="fas fa-file-alt"></i> Terms</span>
    <button class="theme-toggle" onclick="toggleTheme()" id="theme-toggle">
      <i class="fas fa-sun"></i>
    </button>
  </div>  
</footer>  

<script>
// ==================== GLOBAL VARIABLES ====================
let isRefreshing = false;
let currentUser = JSON.parse(localStorage.getItem('nvnUser')) || null;

// Supabase Configuration
const SUPABASE_URL = 'https://scljuwuznhqnlglanijg.supabase.co';
const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNjbGp1d3V6bmhxbmxnbGFuaWpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4MzMyODcsImV4cCI6MjA3MDQwOTI4N30.TYTgGq6yHU_JLweMq5TeGRhP0OKnCAkCSp2CCbo2FDQ';

// Initialize Supabase client
const supabase = (() => {
  const createClient = (url, key) => {
    const client = {
      url: url,
      key: key,
      headers: {
        'apikey': key,
        'Authorization': `Bearer ${key}`,
        'Content-Type': 'application/json'
      }
    };
    
    // Auth methods
    client.auth = {
      signUp: async (credentials) => {
        const response = await fetch(`${url}/auth/v1/signup`, {
          method: 'POST',
          headers: client.headers,
          body: JSON.stringify(credentials)
        });
        const data = await response.json();
        return { data, error: data.error };
      },
      
      signInWithPassword: async (credentials) => {
        const response = await fetch(`${url}/auth/v1/token?grant_type=password`, {
          method: 'POST',
          headers: client.headers,
          body: JSON.stringify(credentials)
        });
        const data = await response.json();
        return { data, error: data.error };
      },
      
      signOut: async () => {
        const response = await fetch(`${url}/auth/v1/logout`, {
          method: 'POST',
          headers: client.headers
        });
        return { error: null };
      },
      
      getUser: async () => {
        const token = localStorage.getItem('supabase_token');
        if (!token) return { data: { user: null }, error: null };
        
        const response = await fetch(`${url}/auth/v1/user`, {
          method: 'GET',
          headers: {
            ...client.headers,
            'Authorization': `Bearer ${token}`
          }
        });
        const data = await response.json();
        return { data: { user: data }, error: data.error };
      }
    };
    "
          
    // Storage methods
    client.storage = {
      from: (bucketName) => ({
        upload: async (path, file) => {
          const formData = new FormData();
          formData.append('file', file);
          
          const response = await fetch(`${url}/storage/v1/object/${bucketName}/${path}`, {
            method: 'POST',
            headers: {
              'apikey': key,
              'Authorization': `Bearer ${key}`
            },
            body: formData
          });
          const data = await response.json();
          return { data, error: data.error };
        },
        
        getPublicUrl: (path) => ({
          data: {
            publicUrl: `${url}/storage/v1/object/public/${bucketName}/${path}`
          }
        })
      })
    };
    
    // Database methods
    client.from = (table) => ({
      insert: async (data) => {
        const response = await fetch(`${url}/rest/v1/${table}`, {
          method: 'POST',
          headers: client.headers,
          body: JSON.stringify(data)
        });
        const result = await response.json();
        return { data: result, error: result.error };
      },
      
      select: (columns = '*') => ({
        eq: (column, value) => ({
          single: async () => {
            const response = await fetch(`${url}/rest/v1/${table}?${column}=eq.${value}&select=${columns}`, {
              method: 'GET',
              headers: client.headers
            });
            const data = await response.json();
            return { data: data[0] || null, error: null };
          }
        })
      }),
      
      update: async (data) => ({
        eq: (column, value) => ({
          single: async () => {
            const response = await fetch(`${url}/rest/v1/${table}?${column}=eq.${value}`, {
              method: 'PATCH',
              headers: client.headers,
              body: JSON.stringify(data)
            });
            const result = await response.json();
            return { data: result[0] || null, error: null };
          }
        })
      })
    });
    
    return client;
  };
  
  return createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
})();

// YouTube API Configuration
const API_KEY = "AIzaSyDyjT63YrJZIHa2Hb1oKFHll7sg0NKA378";  
const CHANNEL_ID = "UCoUqEYtfkhAsGt-ctaaZGog";

// Google OAuth Configuration
let googleAuth = null;

// Demo Users (maintained for backward compatibility)
const DEMO_USERS = [
  { email: 'user@nvn.com', password: 'user578', name: 'Demo User', avatar: 'https://via.placeholder.com/100x100/00C851/FFFFFF?text=DU' },
  { email: 'admin@nvn.com', password: 'adminzee998', name: 'Admin User', avatar: 'https://via.placeholder.com/100x100/FF0051/FFFFFF?text=AD' }
];

// ==================== UTILITY FUNCTIONS ====================

function formatNumber(num) {
  return num.toLocaleString();
}

function formatDate(dateString) {
  const date = new Date(dateString);
  return date.toLocaleDateString('en-US', { 
    year: 'numeric', 
    month: 'short', 
    day: 'numeric' 
  });
}

function timeAgo(dateString) {
  const date = new Date(dateString);
  const now = new Date();
  const diffTime = Math.abs(now - date);
  const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
  
  if (diffDays === 0) return 'Today';
  if (diffDays === 1) return '1 day ago';
  if (diffDays < 30) return `${diffDays} days ago`;
  if (diffDays < 365) return `${Math.floor(diffDays / 30)} months ago`;
  return `${Math.floor(diffDays / 365)} years ago`;
}

function getUpdateStatus(dateString) {
  const date = new Date(dateString);
  const now = new Date();
  const diffTime = Math.abs(now - date);
  const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
  
  if (diffDays === 0) return 'Updated: Today';
  if (diffDays === 1) return 'Last Update: 1 day ago';
  if (diffDays < 30) return `Last Update: ${diffDays} days ago`;
  if (diffDays < 365) return `Last Update: ${Math.floor(diffDays / 30)} months ago`;
  return `Last Update: ${Math.floor(diffDays / 365)} years ago`;
}

function generateAvatar(name) {
  const colors = ['FF0051', '00C851', '007BFF', 'FFC107', 'DC3545', '6C757D'];
  const color = colors[Math.floor(Math.random() * colors.length)];
  const letter = name.charAt(0).toUpperCase();
  return `https://via.placeholder.com/100x100/${color}/FFFFFF?text=${letter}`;
}

function validateEmail(email) {
  const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return re.test(email);
}

// ==================== PAGE NAVIGATION ====================

function showSection(id) {  
  document.querySelectorAll('.main-content, .page-section').forEach(el => {  
    el.classList.remove('active');  
  });  
  document.getElementById(id).classList.add('active');
  
  const backBtn = document.querySelector('.back-btn');
  if (id !== 'home') {
    backBtn.style.display = 'inline-block';
  } else {
    backBtn.style.display = 'none';
  }
}

function toggleChannelInfo() {
  const preview = document.querySelector('.channel-preview');
  const full = document.getElementById('channel-full');
  
  if (full.style.display === 'none') {
    preview.style.display = 'none';
    full.style.display = 'block';
  } else {
    preview.style.display = 'block';
    full.style.display = 'none';
  }
}

function toggleTheme() {
  const body = document.body;
  const themeToggle = document.getElementById('theme-toggle');
  
  body.classList.toggle('light-mode');
  
  if (body.classList.contains('light-mode')) {
    themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
    localStorage.setItem('nvnTheme', 'light');
  } else {
    themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
    localStorage.setItem('nvnTheme', 'dark');
  }
}

function sendFeedback(emoji, rating) {
  const subject = encodeURIComponent('Website Feedback - ' + rating);
  const body = encodeURIComponent('Hi NVN Team,\n\nI rated your website: ' + emoji + ' (' + rating + ')\n\nAdditional comments:\n\n\nThank you!');
  window.open('mailto:suport.nvn@gmail.com?subject=' + subject + '&body=' + body);
}

// ==================== PULL TO REFRESH ====================

let startY = 0;
let currentY = 0;
let pullDistance = 0;
let isPulling = false;

function refreshPage() {
  if (isRefreshing) return;
  
  isRefreshing = true;
  document.getElementById('refresh-loader').style.display = 'block';
  
  setTimeout(() => {
    location.reload();
  }, 1500);
}

// ==================== TOAST NOTIFICATIONS ====================

function showToast(message, type = 'info') {
  const toastContainer = document.getElementById('toast-container') || createToastContainer();
  
  const toast = document.createElement('div');
  toast.className = `toast ${type}`;
  
  let icon = 'fas fa-info-circle';
  if (type === 'success') icon = 'fas fa-check-circle';
  if (type === 'error') icon = 'fas fa-exclamation-circle';
  
  toast.innerHTML = `
    <i class="${icon}"></i>
    <span class="toast-message">${message}</span>
  `;
  
  toastContainer.appendChild(toast);
  
  setTimeout(() => toast.classList.add('show'), 100);
  
  setTimeout(() => {
    toast.classList.remove('show');
    setTimeout(() => toast.remove(), 300);
  }, 5000);
}

function createToastContainer() {
  const container = document.createElement('div');
  container.id = 'toast-container';
  container.className = 'toast-container';
  document.body.appendChild(container);
  return container;
}

// ==================== MODAL CONTROLS ====================

function showModal(modalId) {
  const overlay = document.getElementById('modal-overlay');
  const modal = document.getElementById(modalId);
  
  overlay.style.display = 'block';
  modal.style.display = 'block';
  
  setTimeout(() => {
    overlay.classList.add('active');
    modal.classList.add('active');
  }, 10);
}

function hideModal(modalId) {
  const overlay = document.getElementById('modal-overlay');
  const modal = document.getElementById(modalId);
  
  overlay.classList.remove('active');
  modal.classList.remove('active');
  
  setTimeout(() => {
    overlay.style.display = 'none';
    modal.style.display = 'none';
  }, 300);
}

function hideAllModals() {
  const overlay = document.getElementById('modal-overlay');
  const modals = document.querySelectorAll('.auth-modal');
  
  overlay.classList.remove('active');
  modals.forEach(modal => modal.classList.remove('active'));
  
  setTimeout(() => {
    overlay.style.display = 'none';
    modals.forEach(modal => modal.style.display = 'none');
  }, 300);
}

function togglePassword(inputId, toggleId) {
  const input = document.getElementById(inputId);
  const toggle = document.getElementById(toggleId);
  
  if (input.type === 'password') {
    input.type = 'text';
    toggle.innerHTML = '<i class="fas fa-eye-slash"></i>';
  } else {
    input.type = 'password';
    toggle.innerHTML = '<i class="fas fa-eye"></i>';
  }
}

// ==================== AUTHENTICATION FUNCTIONS ====================

async function login(email, password) {
  try {
    // Check demo users first
    const demoUser = DEMO_USERS.find(u => u.email === email && u.password === password);
    if (demoUser) {
      return {
        id: Math.random().toString(36).substr(2, 9),
        email: demoUser.email,
        name: demoUser.name,
        avatar: demoUser.avatar,
        joinDate: new Date('2024-01-01').toISOString(),
        isDemo: true
      };
    }

    // Try Supabase authentication
    const { data, error } = await supabase.auth.signInWithPassword({
      email: email,
      password: password
    });

    if (error) {
      throw new Error(error.message || 'Login failed');
    }

    if (data.user) {
      // Store token
      localStorage.setItem('supabase_token', data.access_token);
      
      // Get user profile from database
      const { data: profile } = await supabase
        .from('profiles')
        .select('*')
        .eq('id', data.user.id)
        .single();

      return {
        id: data.user.id,
        email: data.user.email,
        name: profile?.full_name || data.user.email.split('@')[0],
        avatar: profile?.avatar_url || generateAvatar(data.user.email),
        joinDate: data.user.created_at,
        isDemo: false
      };
    }

    throw new Error('Login failed');
  } catch (error) {
    throw new Error(error.message || 'Login failed');
  }
}

async function signup(name, email, password) {
  try {
    // Check if it's a demo email
    if (DEMO_USERS.some(u => u.email === email)) {
      throw new Error('This email is reserved for demo purposes');
    }

    const { data, error } = await supabase.auth.signUp({
      email: email,
      password: password,
      options: {
        data: {
          full_name: name
        }
      }
    });

    if (error) {
      throw new Error(error.message || 'Signup failed');
    }

    if (data.user) {
      // Create profile in database
      const avatarUrl = generateAvatar(name);
      
      await supabase
        .from('profiles')
        .insert({
          id: data.user.id,
          full_name: name,
          avatar_url: avatarUrl,
          updated_at: new Date().toISOString()
        });

      return {
        id: data.user.id,
        email: data.user.email,
        name: name,
        avatar: avatarUrl,
        joinDate: data.user.created_at,
        isDemo: false
      };
    }

    throw new Error('Signup failed');
  } catch (error) {
    throw new Error(error.message || 'Signup failed');
  }
}

async function updateUserProfile(userData) {
  try {
    if (currentUser.isDemo) {
      // Update demo user locally
      currentUser = { ...currentUser, ...userData };
      localStorage.setItem('nvnUser', JSON.stringify(currentUser));
      return currentUser;
    }

    const { data, error } = await supabase
      .from('profiles')
      .update({
        full_name: userData.name,
        updated_at: new Date().toISOString()
      })
      .eq('id', currentUser.id)
      .single();

    if (error) {
      throw new Error(error.message || 'Update failed');
    }

    currentUser = { ...currentUser, ...userData };
    localStorage.setItem('nvnUser', JSON.stringify(currentUser));
    return currentUser;
  } catch (error) {
    throw new Error(error.message || 'Update failed');
  }
}

async function uploadAvatar(file) {
  try {
    if (currentUser.isDemo) {
      // For demo users, convert to base64
      const reader = new FileReader();
      return new Promise((resolve) => {
        reader.onload = function(e) {
          resolve(e.target.result);
        };
        reader.readAsDataURL(file);
      });
    }

    const fileName = `${currentUser.id}/avatar-${Date.now()}.${file.name.split('.').pop()}`;
    
    const { data, error } = await supabase.storage
      .from('avatars')
      .upload(fileName, file);

    if (error) {
      throw new Error(error.message || 'Upload failed');
    }

    const { data: { publicUrl } } = supabase.storage
      .from('avatars')
      .getPublicUrl(fileName);

    // Update profile with new avatar URL
    await supabase
      .from('profiles')
      .update({
        avatar_url: publicUrl,
        updated_at: new Date().toISOString()
      })
      .eq('id', currentUser.id);

    return publicUrl;
  } catch (error) {
    throw new Error(error.message || 'Avatar upload failed');
  }
}

function updateAuthUI() {
  const authButtons = document.getElementById('auth-buttons');
  const profileSection = document.getElementById('profile-section');
  
  if (currentUser) {
    authButtons.style.display = 'none';
    profileSection.style.display = 'block';
    
    document.getElementById('profile-avatar').src = currentUser.avatar;
    document.getElementById('profile-name').textContent = currentUser.name;
  } else {
    authButtons.style.display = 'flex';
    profileSection.style.display = 'none';
  }
}

function updateProfileModal() {
  if (!currentUser) return;
  
  document.getElementById('large-profile-avatar').src = currentUser.avatar;
  document.getElementById('profile-display-name').textContent = currentUser.name;
  document.getElementById('profile-display-email').textContent = currentUser.email;
  document.getElementById('profile-join-date').textContent = formatDate(currentUser.joinDate);
}

function updateEditProfileModal() {
  if (!currentUser) return;
  
  document.getElementById('edit-name').value = currentUser.name;
  document.getElementById('edit-email').value = currentUser.email;
}

async function logout() {
  try {
    if (!currentUser.isDemo) {
      await supabase.auth.signOut();
      localStorage.removeItem('supabase_token');
    }
    
    currentUser = null;
    localStorage.removeItem('nvnUser');
    updateAuthUI();
    hideAllModals();
    showToast('Logged out successfully', 'success');
  } catch (error) {
    showToast('Logout failed', 'error');
  }
}

async function handleAvatarUpload(file) {
  if (!file) return;
  
  if (file.size > 5 * 1024 * 1024) {
    showToast('File size must be less than 5MB', 'error');
    return;
  }
  
  if (!file.type.startsWith('image/')) {
    showToast('Please select a valid image file', 'error');
    return;
  }
  
  try {
    showToast('Uploading avatar...', 'info');
    const avatarUrl = await uploadAvatar(file);
    
    currentUser.avatar = avatarUrl;
    localStorage.setItem('nvnUser', JSON.stringify(currentUser));
    
    updateAuthUI();
    updateProfileModal();
    showToast('Profile picture updated successfully', 'success');
  } catch (error) {
    showToast(error.message, 'error');
  }
}

// ==================== GOOGLE OAUTH ====================

function initializeGoogleAuth() {
  if (typeof google !== 'undefined' && google.accounts) {
    // Initialize Google OAuth for Login
    google.accounts.id.initialize({
      client_id: '1234567890-abcdefghijklmnop.apps.googleusercontent.com', // Demo client ID
      callback: handleGoogleLogin,
      auto_select: false,
      cancel_on_tap_outside: false
    });

    // Render login button
    google.accounts.id.renderButton(
      document.getElementById('google-login-button'),
      {
        theme: 'filled_blue',
        text: 'continue_with',
        shape: 'rectangular',
        width: '100%'
      }
    );

    // Render signup button
    google.accounts.id.renderButton(
      document.getElementById('google-signup-button'),
      {
        theme: 'filled_blue',
        text: 'continue_with',
        shape: 'rectangular',
        width: '100%'
      }
    );
  } else {
    // Fallback buttons for demo
    createFallbackGoogleButtons();
  }
}

function createFallbackGoogleButtons() {
  const loginBtn = document.createElement('button');
  loginBtn.className = 'google-btn';
  loginBtn.innerHTML = '<i class="fab fa-google" style="color: #4285f4;"></i> Continue with Google';
  loginBtn.onclick = () => showToast('Google login is working! (Demo mode)', 'success');
  document.getElementById('google-login-button').appendChild(loginBtn);

  const signupBtn = document.createElement('button');
  signupBtn.className = 'google-btn';
  signupBtn.innerHTML = '<i class="fab fa-google" style="color: #4285f4;"></i> Continue with Google';
  signupBtn.onclick = () => showToast('Google signup is working! (Demo mode)', 'success');
  document.getElementById('google-signup-button').appendChild(signupBtn);
}

async function handleGoogleLogin(response) {
  try {
    showToast('Processing Google login...', 'info');
    
    // In a real implementation, you would verify the JWT token
    // For demo purposes, we'll simulate a successful login
    const mockUser = {
      id: 'google_' + Math.random().toString(36).substr(2, 9),
      email: 'demo@google.com',
      name: 'Google User',
      avatar: 'https://via.placeholder.com/100x100/4285f4/FFFFFF?text=G',
      joinDate: new Date().toISOString(),
      isDemo: true
    };

    currentUser = mockUser;
    localStorage.setItem('nvnUser', JSON.stringify(currentUser));
    
    updateAuthUI();
    hideAllModals();
    showToast('Google login successful!', 'success');
  } catch (error) {
    showToast('Google login failed', 'error');
  }
}

// ==================== YOUTUBE DATA FETCHING ====================

async function fetchChannelData() {
  try {
    const response = await fetch(`https://www.googleapis.com/youtube/v3/channels?part=snippet,statistics,brandingSettings&id=${CHANNEL_ID}&key=${API_KEY}`);
    const data = await response.json();
    
    if (data.items && data.items.length > 0) {
      const stats = data.items[0].statistics;  
      const snippet = data.items[0].snippet;  
      const branding = data.items[0].brandingSettings;
      
      document.getElementById("subs").innerText = formatNumber(parseInt(stats.subscriberCount));  
      document.getElementById("views").innerText = formatNumber(parseInt(stats.viewCount));  
      document.getElementById("videos").innerText = formatNumber(parseInt(stats.videoCount));
      
      const avgViews = Math.round(parseInt(stats.viewCount) / parseInt(stats.videoCount));
      document.getElementById("avg-views").innerText = formatNumber(avgViews);
      
      document.getElementById("created-date").innerText = formatDate(snippet.publishedAt);
      
      const description = snippet.description || 'No description available';
      const country = snippet.country || 'Not specified';
      
      document.getElementById("channel-description-full").innerText = description;
      document.getElementById("channel-country-full").innerText = country;
      
      document.getElementById("profile-pic").src = snippet.thumbnails.high.url;  
      if (branding.image && branding.image.bannerExternalUrl) {
        document.getElementById("channel-banner").src = branding.image.bannerExternalUrl;
      }
    }
  } catch (error) {
    console.error("Error fetching channel data:", error);
    showToast('Error loading channel data', 'error');
  }
}

async function fetchVideosData() {
  try {
    const response = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${CHANNEL_ID}&maxResults=50&order=date&type=video&key=${API_KEY}`);
    const data = await response.json();
    
    if (data.items && data.items.length > 0) {
      const videoIds = data.items.map(item => item.id.videoId).join(',');
      
      const statsResponse = await fetch(`https://www.googleapis.com/youtube/v3/videos?part=statistics,contentDetails&id=${videoIds}&key=${API_KEY}`);
      const statsData = await statsResponse.json();
      
      let totalLikes = 0;
      let lastUploadDate = null;
      
      statsData.items.forEach((video) => {
        const stats = video.statistics;
        if (stats.likeCount) {
          totalLikes += parseInt(stats.likeCount);
        }
      });
      
      data.items.forEach(video => {
        const publishDate = new Date(video.snippet.publishedAt);
        if (!lastUploadDate || publishDate > lastUploadDate) {
          lastUploadDate = publishDate;
        }
      });
      
      document.getElementById("likes").innerText = formatNumber(totalLikes);
      
      if (lastUploadDate) {
        const lastUploadText = timeAgo(lastUploadDate.toISOString());
        document.getElementById("last-upload").innerText = lastUploadText;
        document.getElementById("last-upload-full").innerText = lastUploadText;
      }
      
      await loadRecentVideos(data.items.slice(0, 12), statsData.items.slice(0, 12));
    }
  } catch (error) {
    console.error("Error fetching videos data:", error);
    document.getElementById("likes").innerText = "Error";
    document.getElementById("last-upload").innerText = "Error";
    document.getElementById("last-upload-full").innerText = "Error";
    showToast('Error loading videos data', 'error');
  }
  }
  
async function loadRecentVideos(videos, statsData) {
  const videosGrid = document.getElementById('videos-grid');
  videosGrid.innerHTML = '';
  
  videos.forEach((video, index) => {
    const stats = statsData[index].statistics;
    
    const videoCard = document.createElement('div');
    videoCard.className = 'video-card';
    videoCard.innerHTML = `
      <img src="${video.snippet.thumbnails.medium.url}" alt="${video.snippet.title}" class="video-thumbnail">
      <div class="video-info">
        <div class="video-title">${video.snippet.title}</div>
        <div class="video-stats">
          <span><i class="fas fa-eye"></i> ${formatNumber(parseInt(stats.viewCount || 0))}</span>
          <span>${timeAgo(video.snippet.publishedAt)}</span>
        </div>
      </div>
    `;
    
    videoCard.addEventListener('click', () => {
      window.open(`https://www.youtube.com/watch?v=${video.id.videoId}`, '_blank');
    });
    
    videosGrid.appendChild(videoCard);
  });
}

async function fetchPopularVideos() {
  try {
    const response = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${CHANNEL_ID}&maxResults=50&order=viewCount&type=video&key=${API_KEY}`);
    const data = await response.json();
    
    if (data.items && data.items.length > 0) {
      const popularVideoIds = data.items.slice(0, 12).map(item => item.id.videoId).join(',');
      
      const statsResponse = await fetch(`https://www.googleapis.com/youtube/v3/videos?part=statistics,contentDetails&id=${popularVideoIds}&key=${API_KEY}`);
      const popularStatsData = await statsResponse.json();
      
      const popularVideosGrid = document.getElementById('popular-videos-grid');
      popularVideosGrid.innerHTML = '';
      
      data.items.slice(0, 12).forEach((video, index) => {
        const stats = popularStatsData.items[index].statistics;
        
        const videoCard = document.createElement('div');
        videoCard.className = 'video-card';
        videoCard.innerHTML = `
          <img src="${video.snippet.thumbnails.medium.url}" alt="${video.snippet.title}" class="video-thumbnail">
          <div class="video-info">
            <div class="video-title">${video.snippet.title}</div>
            <div class="video-stats">
              <span><i class="fas fa-eye"></i> ${formatNumber(parseInt(stats.viewCount || 0))}</span>
              <span>${timeAgo(video.snippet.publishedAt)}</span>
            </div>
          </div>
        `;
        
        videoCard.addEventListener('click', () => {
          window.open(`https://www.youtube.com/watch?v=${video.id.videoId}`, '_blank');
        });
        
        popularVideosGrid.appendChild(videoCard);
      });
    }
  } catch (error) {
    console.error("Error fetching popular videos:", error);
    showToast('Error loading popular videos', 'error');
  }
}

// ==================== PODCAST DATA FETCHING ====================

async function fetchPodcastData() {
  try {
    // Search for podcast-related playlists from NVN channel
    const playlistResponse = await fetch(`https://www.googleapis.com/youtube/v3/playlists?part=snippet,contentDetails&channelId=${CHANNEL_ID}&maxResults=50&key=${API_KEY}`);
    const playlistData = await playlistResponse.json();
    
    let podcasts = [];
    
    if (playlistData.items && playlistData.items.length > 0) {
      // Filter playlists that might be podcasts (containing "podcast", "series", "episode" keywords)
      const podcastPlaylists = playlistData.items.filter(playlist => {
        const title = playlist.snippet.title.toLowerCase();
        return title.includes('podcast') || title.includes('series') || title.includes('episode') || title.includes('talk');
      });
      
      // If no podcast playlists found, create podcast-like content from regular videos
      if (podcastPlaylists.length === 0) {
        await createPodcastsFromVideos();
        return;
      }
      
      // Process each podcast playlist
      for (const playlist of podcastPlaylists.slice(0, 10)) {
        try {
          // Get playlist items
          const itemsResponse = await fetch(`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=${playlist.id}&maxResults=50&key=${API_KEY}`);
          const itemsData = await itemsResponse.json();
          
          if (itemsData.items && itemsData.items.length > 0) {
            // Get video statistics for all videos in playlist
            const videoIds = itemsData.items.map(item => item.snippet.resourceId.videoId).join(',');
            const statsResponse = await fetch(`https://www.googleapis.com/youtube/v3/videos?part=statistics&id=${videoIds}&key=${API_KEY}`);
            const statsData = await statsResponse.json();
            
            // Calculate total views for this podcast series
            let totalViews = 0;
            statsData.items.forEach(video => {
              totalViews += parseInt(video.statistics.viewCount || 0);
            });
            
            podcasts.push({
              id: playlist.id,
              title: playlist.snippet.title,
              description: playlist.snippet.description,
              thumbnail: playlist.snippet.thumbnails.medium.url,
              totalVideos: itemsData.items.length,
              totalViews: totalViews,
              lastUpdated: playlist.snippet.publishedAt,
              playlistUrl: `https://www.youtube.com/playlist?list=${playlist.id}`
            });
          }
        } catch (error) {
          console.error(`Error processing playlist ${playlist.id}:`, error);
        }
      }
    }
    
    // If still no podcasts, create from videos
    if (podcasts.length === 0) {
      await createPodcastsFromVideos();
      return;
    }
    
    // Display podcasts
    displayPodcasts(podcasts);
    
  } catch (error) {
    console.error("Error fetching podcast data:", error);
    await createPodcastsFromVideos(); // Fallback
  }
}

async function createPodcastsFromVideos() {
  try {
    // Get recent videos and group them as podcast episodes
    const response = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${CHANNEL_ID}&maxResults=30&order=date&type=video&key=${API_KEY}`);
    const data = await response.json();
    
    if (data.items && data.items.length > 0) {
      const videoIds = data.items.map(item => item.id.videoId).join(',');
      const statsResponse = await fetch(`https://www.googleapis.com/youtube/v3/videos?part=statistics&id=${videoIds}&key=${API_KEY}`);
      const statsData = await statsResponse.json();
      
      // Group videos by similar titles or create series
      const podcastSeries = [];
      const groupSize = 3; // Group every 3 videos as a podcast series
      
      for (let i = 0; i < data.items.length; i += groupSize) {
        const seriesVideos = data.items.slice(i, i + groupSize);
        const seriesStats = statsData.items.slice(i, i + groupSize);
        
        let totalViews = 0;
        seriesStats.forEach(video => {
          totalViews += parseInt(video.statistics.viewCount || 0);
        });
        
        const seriesTitle = `NVN Music Series ${Math.floor(i / groupSize) + 1}`;
        const seriesDescription = `A collection of ${seriesVideos.length} episodes from NVN Music featuring the latest tracks and content.`;
        
        podcastSeries.push({
          id: `series_${i}`,
          title: seriesTitle,
          description: seriesDescription,
          thumbnail: seriesVideos[0].snippet.thumbnails.medium.url,
          totalVideos: seriesVideos.length,
          totalViews: totalViews,
          lastUpdated: seriesVideos[0].snippet.publishedAt,
          videos: seriesVideos
        });
      }
      
      displayPodcasts(podcastSeries);
    }
  } catch (error) {
    console.error("Error creating podcasts from videos:", error);
    showToast('Error loading podcast data', 'error');
  }
}

function displayPodcasts(podcasts) {
  const podcastsScroll = document.getElementById('podcasts-scroll');
  podcastsScroll.innerHTML = '';
  
  podcasts.forEach((podcast, index) => {
    const podcastCard = document.createElement('div');
    podcastCard.className = 'podcast-card';
    podcastCard.innerHTML = `
      <img src="${podcast.thumbnail}" alt="${podcast.title}" class="podcast-thumbnail">
      <div class="podcast-info">
        <div class="podcast-title">${podcast.title}</div>
        <div class="podcast-stats">
          <div><i class="fas fa-eye"></i> ${formatNumber(podcast.totalViews)} total views</div>
          <div><i class="fas fa-video"></i> ${podcast.totalVideos} episodes</div>
          <div><i class="fas fa-clock"></i> ${getUpdateStatus(podcast.lastUpdated)}</div>
        </div>
      </div>
    `;
    
    podcastCard.addEventListener('click', () => {
      if (podcast.playlistUrl) {
        window.open(podcast.playlistUrl, '_blank');
      } else if (podcast.videos && podcast.videos.length > 0) {
        // Open first video of the series
        window.open(`https://www.youtube.com/watch?v=${podcast.videos[0].id.videoId}`, '_blank');
      }
    });
    
    podcastsScroll.appendChild(podcastCard);
  });
  }

// ==================== EVENT LISTENERS ====================

document.addEventListener('DOMContentLoaded', function() {
  // Load saved theme
  const savedTheme = localStorage.getItem('nvnTheme');
  if (savedTheme === 'light') {
    document.body.classList.add('light-mode');
    document.getElementById('theme-toggle').innerHTML = '<i class="fas fa-moon"></i>';
  }
  
  // Initialize auth UI
  updateAuthUI();
  
  // Initialize Google OAuth
  setTimeout(initializeGoogleAuth, 1000);
  
  // Load YouTube data
  fetchChannelData();
  fetchVideosData();
  fetchPopularVideos();
  fetchPodcastData();
  
  // ==================== AUTHENTICATION EVENT LISTENERS ====================
  
  // Login Button
  document.getElementById('login-btn').addEventListener('click', () => {
    showModal('login-modal');
  });
  
  // Signup Button
  document.getElementById('signup-btn').addEventListener('click', () => {
    showModal('signup-modal');
  });
  
  // Profile Button
  document.getElementById('profile-btn').addEventListener('click', () => {
    updateProfileModal();
    showModal('profile-modal');
  });
  
  // Close Modal Buttons
  document.querySelectorAll('.close-modal').forEach(btn => {
    btn.addEventListener('click', (e) => {
      const modal = e.target.closest('.auth-modal');
      hideModal(modal.id);
    });
  });
  
  // Modal Overlay Click
  document.getElementById('modal-overlay').addEventListener('click', () => {
    hideAllModals();
  });
  
  // Prevent modal close when clicking inside modal
  document.querySelectorAll('.auth-modal').forEach(modal => {
    modal.addEventListener('click', (e) => {
      e.stopPropagation();
    });
  });
  
  // Password Toggle Buttons
  document.getElementById('login-password-toggle').addEventListener('click', () => {
    togglePassword('login-password', 'login-password-toggle');
  });
  
  document.getElementById('signup-password-toggle').addEventListener('click', () => {
    togglePassword('signup-password', 'signup-password-toggle');
  });
  
  document.getElementById('signup-confirm-password-toggle').addEventListener('click', () => {
    togglePassword('signup-confirm-password', 'signup-confirm-password-toggle');
  });
  
  // Login Form
  document.getElementById('login-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const email = document.getElementById('login-email').value;
    const password = document.getElementById('login-password').value;
    const submitBtn = e.target.querySelector('.auth-submit-btn');
    
    if (!validateEmail(email)) {
      showToast('Please enter a valid email address', 'error');
      return;
    }
    
    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Logging in...';
    submitBtn.disabled = true;
    
    try {
      const user = await login(email, password);
      currentUser = user;
      localStorage.setItem('nvnUser', JSON.stringify(user));
      
      updateAuthUI();
      hideAllModals();
      showToast(`Welcome back, ${user.name}!`, 'success');
      
      document.getElementById('login-form').reset();
    } catch (error) {
      showToast(error.message, 'error');
    } finally {
      submitBtn.innerHTML = '<i class="fas fa-sign-in-alt"></i> Login';
      submitBtn.disabled = false;
    }
  });
  
  // Signup Form
  document.getElementById('signup-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const name = document.getElementById('signup-name').value.trim();
    const email = document.getElementById('signup-email').value;
    const password = document.getElementById('signup-password').value;
    const confirmPassword = document.getElementById('signup-confirm-password').value;
    const submitBtn = e.target.querySelector('.auth-submit-btn');
    
    // Validation
    if (!name) {
      showToast('Please enter your full name', 'error');
      return;
    }
    
    if (!validateEmail(email)) {
      showToast('Please enter a valid email address', 'error');
      return;
    }
    
    if (password.length < 6) {
      showToast('Password must be at least 6 characters', 'error');
      return;
    }
    
    if (password !== confirmPassword) {
      showToast('Passwords do not match', 'error');
      return;
    }
    
    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating Account...';
    submitBtn.disabled = true;
    
    try {
      const user = await signup(name, email, password);
      currentUser = user;
      localStorage.setItem('nvnUser', JSON.stringify(user));
      
      updateAuthUI();
      hideAllModals();
      showToast(`Welcome to NVN Verse, ${user.name}!`, 'success');
      
      document.getElementById('signup-form').reset();
    } catch (error) {
      showToast(error.message, 'error');
    } finally {
      submitBtn.innerHTML = '<i class="fas fa-user-plus"></i> Create Account';
      submitBtn.disabled = false;
    }
  });
  
  // Edit Profile Button
  document.getElementById('edit-profile-btn').addEventListener('click', () => {
    updateEditProfileModal();
    hideModal('profile-modal');
    showModal('edit-profile-modal');
  });
  
  // Edit Profile Form
  document.getElementById('edit-profile-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const name = document.getElementById('edit-name').value.trim();
    const submitBtn = e.target.querySelector('.auth-submit-btn');
    
    if (!name) {
      showToast('Please enter your full name', 'error');
      return;
    }
    
    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';
    submitBtn.disabled = true;
    
    try {
      await updateUserProfile({ name });
      updateAuthUI();
      hideAllModals();
      showToast('Profile updated successfully', 'success');
    } catch (error) {
      showToast(error.message, 'error');
    } finally {
      submitBtn.innerHTML = '<i class="fas fa-save"></i> Save Changes';
      submitBtn.disabled = false;
    }
  });
  
  // Cancel Edit Button
  document.getElementById('cancel-edit-btn').addEventListener('click', () => {
    hideModal('edit-profile-modal');
    showModal('profile-modal');
  });
  
  // Logout Button
  document.getElementById('logout-btn').addEventListener('click', () => {
    if (confirm('Are you sure you want to logout?')) {
      logout();
    }
  });
  
  // Avatar Upload
  document.getElementById('change-avatar-btn').addEventListener('click', () => {
    document.getElementById('avatar-upload').click();
  });
  
  document.getElementById('avatar-upload').addEventListener('change', (e) => {
    const file = e.target.files[0];
    if (file) {
      handleAvatarUpload(file);
    }
  });
  
  // Forgot Password (Demo)
  document.getElementById('forgot-password-btn').addEventListener('click', () => {
    showToast('Password reset feature coming soon!', 'info');
  });
  
  // ==================== PULL TO REFRESH EVENT LISTENERS ====================
  
  // Touch events for mobile
  document.addEventListener('touchstart', function(e) {
    if (window.scrollY === 0 && document.getElementById('home').classList.contains('active')) {
      startY = e.touches[0].clientY;
      isPulling = true;
    }
  });

  document.addEventListener('touchmove', function(e) {
    if (!isPulling || isRefreshing) return;
    
    currentY = e.touches[0].clientY;
    pullDistance = currentY - startY;
    
    if (pullDistance > 0 && window.scrollY === 0) {
      e.preventDefault();
      
      if (pullDistance > 100) {
        document.getElementById('refresh-loader').style.display = 'block';
      }
    }
  });

  document.addEventListener('touchend', function(e) {
    if (!isPulling || isRefreshing) return;
    
    if (pullDistance > 100 && window.scrollY === 0) {
      refreshPage();
    } else {
      document.getElementById('refresh-loader').style.display = 'none';
    }
    
    isPulling = false;
    pullDistance = 0;
  });

  // Mouse events for desktop
  document.addEventListener('mousedown', function(e) {
    if (window.scrollY === 0 && document.getElementById('home').classList.contains('active')) {
      startY = e.clientY;
      isPulling = true;
    }
  });

  document.addEventListener('mousemove', function(e) {
    if (!isPulling || isRefreshing) return;
    
    currentY = e.clientY;
    pullDistance = currentY - startY;
    
    if (pullDistance > 0 && window.scrollY === 0) {
      if (pullDistance > 100) {
        document.getElementById('refresh-loader').style.display = 'block';
      }
    }
  });

  document.addEventListener('mouseup', function(e) {
    if (!isPulling || isRefreshing) return;
    
    if (pullDistance > 100 && window.scrollY === 0) {
      refreshPage();
    } else {
      document.getElementById('refresh-loader').style.display = 'none';
    }
    
    isPulling = false;
    pullDistance = 0;
  });
  
  // ==================== KEYBOARD SHORTCUTS ====================
  
  document.addEventListener('keydown', function(e) {
    // ESC to close modals
    if (e.key === 'Escape') {
      hideAllModals();
    }
    
    // Ctrl+R or F5 to refresh
    if ((e.ctrlKey && e.key === 'r') || e.key === 'F5') {
      if (document.getElementById('home').classList.contains('active')) {
        e.preventDefault();
        refreshPage();
      }
    }
    
    // Theme toggle with Ctrl+T
    if (e.ctrlKey && e.key === 't') {
      e.preventDefault();
      toggleTheme();
    }
  });
  
  // ==================== ERROR HANDLING ====================
  
  window.addEventListener('error', function(e) {
    console.error('Global error:', e.error);
    showToast('An unexpected error occurred', 'error');
  });
  
  window.addEventListener('unhandledrejection', function(e) {
    console.error('Unhandled promise rejection:', e.reason);
    showToast('An unexpected error occurred', 'error');
  });
  
  // ==================== ACCESSIBILITY IMPROVEMENTS ====================
  
  // Add keyboard navigation for interactive elements
  setTimeout(() => {
    const focusableElements = document.querySelectorAll('.video-card, .podcast-card, .stat-box');
    focusableElements.forEach(el => {
      el.setAttribute('tabindex', '0');
      el.setAttribute('role', 'button');
      
      el.addEventListener('keydown', function(event) {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          el.click();
        }
      });
    });
    
    // Add ARIA labels
    const videoCards = document.querySelectorAll('.video-card');
    videoCards.forEach((card, index) => {
      const title = card.querySelector('.video-title')?.textContent || `Video ${index + 1}`;
      card.setAttribute('aria-label', `Play video: ${title}`);
    });
    
    const podcastCards = document.querySelectorAll('.podcast-card');
    podcastCards.forEach((card, index) => {
      const title = card.querySelector('.podcast-title')?.textContent || `Podcast ${index + 1}`;
      card.setAttribute('aria-label', `Play podcast: ${title}`);
    });
  }, 3000);
  
  console.log('NVN Verse v2.3 initialized successfully!');
  console.log('Features: Supabase Auth, Google OAuth, Real Podcasts, Profile Management');
});

// ==================== GLOBAL FUNCTIONS ====================

// Export functions for global access
window.NVNVerse = {
  showSection,
  toggleChannelInfo,
  toggleTheme,
  sendFeedback,
  refreshPage,
  showToast,
  formatNumber,
  formatDate,
  timeAgo,
  login,
  signup,
  logout,
  currentUser: () => currentUser
};

// ==================== AUTO-LOGIN CHECK ====================

// Check for existing session on page load
document.addEventListener('DOMContentLoaded', async () => {
  if (currentUser && !currentUser.isDemo) {
    try {
      // Verify Supabase session
      const { data } = await supabase.auth.getUser();
      if (!data.user) {
        // Session expired, clear local storage
        currentUser = null;
        localStorage.removeItem('nvnUser');
        localStorage.removeItem('supabase_token');
        updateAuthUI();
      }
    } catch (error) {
      console.log('Session check failed:', error);
    }
  }
});

// ==================== SERVICE WORKER (Optional) ====================

// Register service worker for offline functionality
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/sw.js')
      .then((registration) => {
        console.log('SW registered: ', registration);
      })
      .catch((registrationError) => {
        console.log('SW registration failed: ', registrationError);
      });
  });
}

// ==================== PERFORMANCE MONITORING ====================

// Monitor performance
if ('performance' in window) {
  window.addEventListener('load', () => {
    const timing = performance.timing;
    const loadTime = timing.loadEventEnd - timing.navigationStart;
    console.log(`Page load time: ${loadTime}ms`);
    
    if (loadTime > 3000) {
      console.warn('Page load time is slower than expected');
    }
  });
}

// ==================== CLEANUP ====================

window.addEventListener('beforeunload', function() {
  // Cleanup any ongoing operations
  if (isRefreshing) {
    isRefreshing = false;
  }
});
</script>  
</body>
</html>
